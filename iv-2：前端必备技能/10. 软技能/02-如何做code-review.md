# code review

## 题目

如何做 code review ？

## 分析

code review（简称 CR ）即代码走查。领导对下属的代码进行审查，或者同事之间相互审查。

CR 已经是现代软件研发流程中非常重要的一步，持续规范的执行 CR 可以保证代码质量，避免破窗效应。

## CR 检查什么

- 代码规范（eslint 能检查一部分，但不是全部，如：变量命名、代码语义）
- 重复逻辑抽离、复用
- 单个函数过长，需要拆分
- 算法复杂度是否可用？ 是否可继续优化?
- 是否有安全漏洞?
- 扩展性如何？（不用为了扩展而扩展，不封闭即可）
- 是否和现有的功能重复了？
- 是否有完善的单元测试？
- 组件设计是否合理？

## 何时 CR

提交 PR（或者 MR）时，看代码 diff 。给出评审意见，或者评审通过。可让领导评审，也可以同事之间相互评审。<br>
评审人要负责，不可形式主义。万一这段代码出了问题，评审人也要承担责任。

例行，每周组织一次集体 CR ，拿出几个 PR 或者几段代码，大家一起评审。<br>
可以借机来统一评审规则，也可以像新人来演示如何评审。

## 持续优化

- 每次 CR 的问题要记录下
- 归纳整理，形成自己的知识规范体系
- 新加入的成员要提前学习，提前规避

评审的问题要汇总起来，整理一个代码规范和常见问题，持续积累。持续宣讲，并让新成员学习。

## 之前没做过 CR 怎么办

要对 CR 有大概了解。至少能讲出一点内容。

要如实回复面试官：我没做过 CR ，因为公司环境 xxx 。所以，我才想着去找个更大平台，开阔事业，多实践 —— 把它转换为你离职、要求进步的理由。
